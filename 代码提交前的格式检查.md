# 如何在代码提交前检查代码格式
> 多人项目开发中，代码格式显得尤为重要，不同的格式化文件会使得项目代码经常因为格式出现大面积冲突，因为能在提交前检查代码格式，便非常关键

## 进入正题

### 相信很多人都使用过git，先了解下git，git其实内置了提交拉取推送代码等的钩子函数，一般存放在项目文件下的.git/hooks文件夹中，我们可以通过启用git的提交钩子函数，从而达到对代码的格式化检查

1. 第一步
   找到.git/hooks隐藏的文件夹下的pre-commit.sample

2. 第二步
   将此行代码粘贴到里面（对ts，js等代码的格式检查）
   
   STAGE_FILES=$(git diff --cached --name-only --diff-filter=ACM -- '*.vue' '*.js')
    if test ${#STAGE_FILES} -gt 0
   then
    echo '开始eslint检查'

    which eslint &> /dev/null
    if [[ "$?" == 1 ]]; then
        echo '没安装eslint'
        exit 1
    fi

    PASS=true

    for FILE in $STAGE_FILES
    do
        eslint $FILE
        if [[ "$?" == 1 ]]; then
      PASS=false
    fi
  done

      if ! $PASS; then
      echo "eslint检查没通过！"
      exit 1
      else
      echo "eslint检查完毕"
      fi

    else
    echo '没有js文件需要检查'
    fi

    exit 0

3. 第三步
   可以制造一个trobule检测一下！