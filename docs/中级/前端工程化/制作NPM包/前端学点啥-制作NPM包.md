# 如何发布自己的 NPM 包

> 实际业务开发中，我们往往会将一些可复用的组件或者模块抽离出来，形成独立的组件，这样可提供团队使用，那么，如何将自己的封装自己的组件提供给所有人使用呢，我们可以通过发布到 NPM 上的方式提供给所有开发者使用。

## 发布步骤

### 首次推送

本地创建 NPM 文件 => 注册 NPM 账号 => 本地添加已注册的 NPM 账号（首次推送 NPM 包需添加,第二次不需要） => 本地登陆已注册的 NPM 账号 => 推送到 NPM

### 非首次推送

更新 NPM 版本号 => 本地登陆已注册的 NPM 账号 => 推送到 NPM

## 1.本地创建 NPM 包文件

本地创建一个文件夹，并在文件夹根部创建一个 package.json 文件，将你要上传的 NPM 包其余文件放到这个文件夹中

```json
// package.json示例
{
  // name 将会是你上传到NPM后展示的名字
  "name": "",
  "version": "1.0.1",
  "description": "",
  "main": "index.js",
  // 可以写一些关键词，提高你的NPM包曝光度
  "keywords": ["前端脚手架"],
  //   此处的author必须与你注册NPM登陆名一致，否则将无法推送
  "author": "aodaking",
  "license": "MIT",
  "dependencies": {
    "axios": "^0.26.1",
    "chalk": "4.1.2",
    "commander": "^9.1.0",
    "download-git-repo": "^3.0.2",
    "figlet": "^1.5.2",
    "fs-extra": "^10.0.1",
    "inquirer": "^8.2.2"
  }
}
```

## 2.注册 NPM 账号

这里不细说，直接去 NPM 官网注册即可，注册时记住你的 NPM 登陆名字，后面推送时需要登陆你的 NPM

## 3.本地添加已注册的 NPM 账号

终端中输入 **npm adduser**,根据提示依次输入 NPM 登陆名字，账户密码，一次性验证码即可。

## 4.本地登陆已注册的 NPM 账号

终端中输入 **npm login**,根据提示依次输入 NPM 登陆名字，账户密码，一次性验证码即可。

## 5.推送到 NPM

cd 到你需要推送的文件内,终端中输入 **npm publish**,看到 npm 生成的版本号后则成功推送，前往 npm 搜索你的 NPM 包也可验证。

## 6.第二次如何推送

第二次更新推送时需登陆 NPM，终端中运行 npm login，登陆成功后，终端中运行更新 NPM 版本号的命令 **npm version patch**,再次运行 npm publish 即可推送成功！
